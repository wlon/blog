<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Gatsby Starter Blog RSS Feed]]></title><description><![CDATA[Gatsby Starter Blog RSS Feed]]></description><link>https://blog.xwlon.com</link><generator>GatsbyJS</generator><lastBuildDate>Mon, 05 May 2025 11:02:13 GMT</lastBuildDate><item><title><![CDATA[Rust 腐蚀自建服务器插件]]></title><description><![CDATA[Auto Doors 自动关门 Blueprint Manager 蓝图管理 NTeleportation 传送系统 Remover Tool 拆除工具 Gather Manager 采集倍数 Corpse Location 尸体位置 Backpacks…]]></description><link>https://blog.xwlon.com/2025/rust-plugins/</link><guid isPermaLink="false">https://blog.xwlon.com/2025/rust-plugins/</guid><pubDate>Mon, 05 May 2025 09:15:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://rustsb.com/resources/416/&quot;&gt;Auto Doors 自动关门&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;使用/ad &amp;lt;type | t&gt;和/ad &amp;lt;single | s&gt; 指令时必须看着门。
/ad - 开启/关闭自动关门
/ad &amp;lt;时间(秒)&gt; - 设置自动关门时间（不包含type和single的单独设置）
/ad &amp;lt;all | a&gt; &amp;lt;时间rustsb.com(秒)&gt; - 设置所有门的自动关门时间
/ad &amp;lt;single | s&gt; - 开启/关闭面前门的自动关门。
/ad &amp;lt;single | s&gt; &amp;lt;时间(秒)&gt; - 设置面前的门的自动关门时间
/ad &amp;lt;type | t&gt; - 开启/关闭面前的门的类型的自动关门
/ad &amp;lt;type | t&gt; &amp;lt;时间(秒)&gt; - 设置面前门的类型的自动关门时间
/ad &amp;lt;help | h&gt; - 获取帮助&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://rustsb.com/resources/488/&quot;&gt;Blueprint Manager 蓝图管理&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://rustsb.com/resources/361/&quot;&gt;NTeleportation 传送系统&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;home add NAME - 将当前位置保存为位置NAME。(别名sethome)
home list - 显示您保存的所有位置的列表。(别名listhomes)
home remove NAME - 从您保存的主页中删除位置NAME。(别名removehomrustsb.come)
home NAME - 将您传送到主页位置。
home NAME pay - 将您传送到主页位置NAME,通过从您的Economics余额支付来绕过冷却。
tpr - 向玩家发送传送请求。
tpa - 接受传入的传送请求。
tpc - 取消传送或请求。
town - 将自己传送到城镇(如果设置)。
outpost - 将自己传送到哨站(如果设置)。
bandit - 将自己传送到强盗城镇(如果设置)。
town/outpost/bandit pay - 将你传送到town/outpost/bandit,通过从你的Economics余额支付来绕过冷却。例如/town pay
tpinfo - 显示限制和冷却时间。
tphelp - 显示帮助。
island &amp;lt;number&gt; - 将你传送到指定的岛屿
island add - 在管理员当前位置添加一个出生点(不要添加玩家可以建造的位置)
tpat - 为特定玩家切换自动tpa开/关&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://rustsb.com/resources/225/&quot;&gt;Remover Tool 拆除工具&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;/remove [时间(秒)] - 启用/禁用拆除工具
/remove &amp;lt;admin | a&gt; [时间(秒)] - 启用管理员模式，在该模式下可以拆除任何物体且不受限制
/remove all [时间(秒)] - 全部拆除模式，会拆除你所看到的整个建筑物及其相邻的物体，如果有相邻的建筑物也会一并拆除
/remove &amp;lt;structure | s&gt; [时间(秒)] - 拆除建筑模式，会拆除你看向的整个建筑物（不会拆除相邻的物体/建筑）
/remove &amp;lt;external | e&gt; [时间(秒)] - 拆rustsb.com除高墙模式，会拆除面前和其相邻的高墙&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://rustsb.com/resources/159/&quot;&gt;Gather Manager 采集倍数&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;/gather - 向玩家显示当前服务器设置的倍数，并向管理员显示可用的控制台命令&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://rustsb.com/resources/650/&quot;&gt;Corpse Location 尸体位置&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;/where - 显示玩家的尸体距离自己有多远及在哪个rustsb.com地图网格中。

/where tp - 传送到自己的尸体。

/return - 返回到传送尸体前的位置。

/tpcorpse 名字/ID - 传送到指定玩家/Steamid的尸体的位置。&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://rustsb.com/resources/384/&quot;&gt;Backpacks 扩展背包&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;backpack / backpack.open - 打开自己的背包。需要backpacks.userustsb.com权限。如果背包已经打开，将切换到下一页，如果没有更多页面，则关闭背包。

backpack.fetch &amp;lt;物品短名称/id&gt; &amp;lt;数量&gt; - 从背包提取物品。

backpackgui - 开启关闭GUI按钮显示。

backpack.setgathermode &amp;lt;All|Existing|Off&gt; &amp;lt;页数&gt; - 为指定的扩展背包页面设置收集模式。如果未指定页数，则应用于第一页。这个指令对于通过绑定按键快速更改收集模式非常有用，而无需打开背包。 注：如果要始终通过聊天而不是控制台接收此指令的消息提示，则应该绑定这样绑定 bind &amp;lt;按键&gt; chat.say &quot;/backpack.setgathermode All&quot; 而不是 bind &amp;lt;按键&gt; backpack.setgathermode All。&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://rustsb.com/resources/46/&quot;&gt;BuildingSkins 建筑皮肤&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;/bskin - 打开 UI 来设置默认建筑皮肤（可以在配置文件中更改）。

/bskin build - 更新您正在查看的建筑的皮肤以及与其接触的所有物体的皮肤。

/bskin all - 更新玩家拥有的所有建筑的外观。

/bskin all &amp;lt;steam id&gt; - 更新指定玩家所有建筑的外观。（例如：/bskin all 765611000000000000）&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://rustsb.com/resources/577/&quot;&gt;Map Note Teleport - 地图标记传送&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;/mnt 时间（秒） - 设置传送冷却时间
/mnt t - 启用/禁用地图标记传送
/mnt n - 启用/禁用聊天通知&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Linux Shell 相关设置]]></title><description><![CDATA[WSL2 Ubuntu home brew oh my zsh 安装zsh 安装 oh my zsh SSH Key 安装插件 nvm nvim Plug ripgrep tmux]]></description><link>https://blog.xwlon.com/2025/2025-05-02-linux-shell/</link><guid isPermaLink="false">https://blog.xwlon.com/2025/2025-05-02-linux-shell/</guid><pubDate>Fri, 02 May 2025 13:53:00 GMT</pubDate><content:encoded>&lt;h1&gt;WSL2&lt;/h1&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;dism&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exe &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;online &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;enable-feature&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;featurename:Microsoft-Windows-Subsystem-Linux &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;all &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;norestart

dism&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exe &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;online &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;enable-feature&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;featurename:VirtualMachinePlatform &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;all &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;norestart&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Ubuntu&lt;/h2&gt;
&lt;h3&gt;home brew&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Home brew 现在可以在Linux上安装&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;    /bin/bash &lt;span class=&quot;token parameter variable&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-fsSL&lt;/span&gt; https://raw.githubusercontent.com/Homebrew/install/master/install.sh&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;test -d ~/.linuxbrew &amp;amp;&amp;amp; eval $(~/.linuxbrew/bin/brew shellenv)
test -d /home/linuxbrew/.linuxbrew &amp;amp;&amp;amp; eval $(/home/linuxbrew/.linuxbrew/bin/brew shellenv)
test -r ~/.bash_profile &amp;amp;&amp;amp; echo &quot;eval \$($(brew --prefix)/bin/brew shellenv)&quot; &gt;&gt;~/.bash_profile
echo &quot;eval \$($(brew --prefix)/bin/brew shellenv)&quot; &gt;&gt;~/.profile&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;oh my zsh&lt;/h3&gt;
&lt;p&gt;安装zsh&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;zsh&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;安装 oh my zsh&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sh&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-fsSL&lt;/span&gt; https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;SSH Key&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;600&lt;/span&gt; ~/.ssh/id_rsa         
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;600&lt;/span&gt; ~/.ssh/id_rsa.pub  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;安装插件&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; clone git@github.com:zsh-users/zsh-autosuggestions.git &lt;span class=&quot;token variable&quot;&gt;$ZSH_CUSTOM&lt;/span&gt;/plugins/zsh-autosuggestions&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; clone https://github.com/zsh-users/zsh-syntax-highlighting.git &lt;span class=&quot;token variable&quot;&gt;$ZSH_CUSTOM&lt;/span&gt;/plugins/zsh-syntax-highlighting
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;https://github.com/wting/autojump#installation&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;vim ~/.zshrc
plugins=(git zsh-autosuggestions autojump zsh-syntax-highlighting)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;nvm&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;brew install nvm&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;nvim&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Plug&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sh -c &apos;curl -fLo &quot;${XDG_DATA_HOME:-$HOME/.local/share}&quot;/nvim/site/autoload/plug.vim --create-dirs \       https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim&apos;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;ripgrep&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;tmux&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[Git 不提交已存在版本控制的本地修改]]></title><description><![CDATA[不提交本地修改可分为两种情况: 删除 git 库中已存在的记录，并在本地忽略该文件 然后将这个文件加入中 忽略本地改动，但不删除已存在的记录 恢复]]></description><link>https://blog.xwlon.com/2014/2014-03-10-git-ignore-a-exist-local-file-change-but-do-not-delete-the-from-the-source-control/</link><guid isPermaLink="false">https://blog.xwlon.com/2014/2014-03-10-git-ignore-a-exist-local-file-change-but-do-not-delete-the-from-the-source-control/</guid><pubDate>Mon, 10 Mar 2014 13:58:10 GMT</pubDate><content:encoded>&lt;p&gt;不提交本地修改可分为两种情况:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;删除 git 库中已存在的记录，并在本地忽略该文件&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git rm --cached &amp;lt;file&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后将这个文件加入&lt;code class=&quot;language-text&quot;&gt;.gitignore&lt;/code&gt;中&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;忽略本地改动，但不删除已存在的记录&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git update-index --assume-unchanged &amp;lt;file&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;恢复&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git update-index --no-assume-unchanged &amp;lt;file&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[Ubuntu 安装配置]]></title><description><![CDATA[本文主要记录自己在西部数码 VPS 安装 ubuntu 的过程 添加 root 用户  这个命令可以创建 Home 目录和 Shell 路径， 则不会自动创建 Home 目录 Ubuntu 重启不能进入 VPS 原因：查看 /boot/grub/grub.cfg 正是被这个-…]]></description><link>https://blog.xwlon.com/2013/2013-07-23-ubuntu-install-and-setting/</link><guid isPermaLink="false">https://blog.xwlon.com/2013/2013-07-23-ubuntu-install-and-setting/</guid><pubDate>Tue, 23 Jul 2013 14:54:00 GMT</pubDate><content:encoded>&lt;p&gt;本文主要记录自己在西部数码 VPS 安装 ubuntu 的过程&lt;/p&gt;
&lt;h3&gt;添加 root 用户&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;#adduser user&lt;/code&gt; 这个命令可以创建 Home 目录和 Shell 路径，&lt;code class=&quot;language-text&quot;&gt;useradd&lt;/code&gt; 则不会自动创建 Home 目录&lt;/p&gt;
&lt;h3&gt;Ubuntu 重启不能进入 VPS&lt;/h3&gt;
&lt;p&gt;原因：查看 /boot/grub/grub.cfg&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;if [ &quot;${recordfail}&quot; = 1 ]; then
set timeout=-1
else
set timeout=2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;正是被这个-1 给停留到启动界面的&lt;/p&gt;
&lt;p&gt;解决办法：
先将/boot/grub/grub.cfg 默认只读修改为可写入
cd /boot/grub
chmod 644 grub.cfg 修改成 root 用户可写&lt;/p&gt;
&lt;p&gt;然后
vi /boot/grub/grub.cfg 找到 timeout&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;if [ &quot;${recordfail}&quot; = 1 ]; then
set timeout=-1  改为 0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;国内镜像&lt;/h3&gt;
&lt;p&gt;以 Precise(12.04)为例, 编辑/etc/apt/sources.list 文件, 在文件最前面添加以下条目(操作前请做好相应备份)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;deb http://mirrors.163.com/ubuntu/ precise main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ precise-security main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ precise-updates main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ precise-proposed main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ precise-backports main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ precise main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ precise-security main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ precise-updates main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ precise-proposed main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ precise-backports main restricted universe multiverse&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;DNS 配置&lt;/h3&gt;
&lt;p&gt;修改以下配置，然后重启 &lt;code class=&quot;language-text&quot;&gt;shutdown -r now&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;/etc/network/interfaces
dns-nameservers 8.8.8.8&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;更新系统&lt;/h3&gt;
&lt;h3&gt;MySQL 安装配置&lt;/h3&gt;
&lt;h3&gt;禁止 root 用户 ssh 登录&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[Nginx 忽略大小写]]></title><description><![CDATA[Nginx 当文件中有大小写文件时，用户访问时必须和文件大小写一致才能访问，通过添加 Perl 表达式可以对文件大小写进行转换。 下载源文件Nginx 下载 安装 Perl 开发包 使用 Passenger 安装,选择第二项 如有权限问题,可使用提升权限。 Nginx…]]></description><link>https://blog.xwlon.com/2013/2013-03-16-nginx-ignore-case/</link><guid isPermaLink="false">https://blog.xwlon.com/2013/2013-03-16-nginx-ignore-case/</guid><pubDate>Sat, 16 Mar 2013 13:16:00 GMT</pubDate><content:encoded>&lt;p&gt;Nginx 当文件中有大小写文件时，用户访问时必须和文件大小写一致才能访问，通过添加 Perl 表达式可以对文件大小写进行转换。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;下载源文件&lt;a href=&quot;http://nginx.org/en/download.html&quot;&gt;Nginx 下载&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装 Perl 开发包&lt;code class=&quot;language-text&quot;&gt;apt-get install libperl-dev&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用 Passenger 安装,选择第二项&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如有权限问题,可使用&lt;code class=&quot;language-text&quot;&gt;rvmsudo&lt;/code&gt;提升权限。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Nginx 编译选项，配置 perl 支持，&lt;code class=&quot;language-text&quot;&gt;--with-http_perl_module&lt;/code&gt; 仅需添加 perl module，其他选项默认添加。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;修改 config 文件，添加相关语法忽略大写小。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;{% highlight Nginx config files %}
perl*set $url ’
sub {
my $r = shift;
my $re = lc($r-&gt;uri);
return $re;
}
‘;&lt;/p&gt;
&lt;p&gt;server {
listen       80;
server_name  &lt;a href=&quot;http://www.abc.com&quot;&gt;www.abc.com&lt;/a&gt;;
root /www/web/dol;
index index.html index.htm;&lt;br&gt;
if ($uri ~ [A-Z]){
rewrite ^(.*)$ $url last;
}
location ~ ._.(gif|jpg|jpeg|png|bmp|swf)$ {
expires      30d;
}&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;        location ~ .*\.(js|css|html|htm)$ {&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;expires 2d;
}
}
{% endhighlight %}&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Linux下使用正则和sed命令替换文本]]></title><description><![CDATA[linux 下使用一下命令可以替换一个目录下面所有的正则匹配到的字符串 {% highlight Bash shell scripts %}
sed -i “s/origin_string/replace-string/g” 
{% endhighlight…]]></description><link>https://blog.xwlon.com/2012/2012-11-27-replace-string-with-sed/</link><guid isPermaLink="false">https://blog.xwlon.com/2012/2012-11-27-replace-string-with-sed/</guid><pubDate>Tue, 27 Nov 2012 14:37:00 GMT</pubDate><content:encoded>&lt;p&gt;linux 下使用一下命令可以替换一个目录下面所有的正则匹配到的字符串&lt;/p&gt;
&lt;p&gt;{% highlight Bash shell scripts %}
sed -i “s/origin_string/replace-string/g” &lt;code class=&quot;language-text&quot;&gt;grep origin_string -rl /path&lt;/code&gt;
{% endhighlight %}&lt;/p&gt;
&lt;p&gt;多行字符串替换, 注意 &lt;code class=&quot;language-text&quot;&gt;&amp;amp;&lt;/code&gt; 符号需要用 &lt;code class=&quot;language-text&quot;&gt;&amp;amp;amp;&lt;/code&gt; 替换&lt;/p&gt;
&lt;p&gt;{% highlight Bash shell scripts %}
sed -i ‘s#&lt;/body&gt;#&lt;!-- JiaThis Button BEGIN --&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;http://v3.jiathis.com/code/jiathis_r.js?uid=1353130564443815\&amp;move=0\&amp;amp;btn=r4.gif&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\n&lt;!-- JiaThis Button END --&gt;\n&lt;/body&gt;#g’ &lt;code class=&quot;language-text&quot;&gt;grep &apos;&amp;lt;/body&gt;&apos; -rl src&lt;/code&gt;
{% endhighlight %}&lt;/p&gt;
&lt;p&gt;替换测试&lt;/p&gt;
&lt;p&gt;{% highlight Bash shell scripts %}
echo ”&lt;/body&gt;” | sed -e ‘s#&lt;/body&gt;#&lt;!-- JiaThis Button BEGIN --&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;http://v3.jiathis.com/code/jiathis_r.js?uid=1353130564443815\&amp;move=0\&amp;amp;btn=r4.gif&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\n&lt;!-- JiaThis Button END --&gt;\n&lt;/body&gt;#g’
{% endhighlight %}&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Nginx log 分割]]></title><description><![CDATA[转自 Nginx 中文站 nginx 的日志文件没有 rotate 功能。如果你不处理，日志文件将变得越来越大，还好我们可以写一个 nginx 日志切割脚本来自动切割日志文件。 第一步就是重命名日志文件，不用担心重命名后 nginx…]]></description><link>https://blog.xwlon.com/2012/2012-11-26-nginx-log-rotation/</link><guid isPermaLink="false">https://blog.xwlon.com/2012/2012-11-26-nginx-log-rotation/</guid><pubDate>Mon, 26 Nov 2012 14:42:00 GMT</pubDate><content:encoded>&lt;p&gt;转自 Nginx 中文站&lt;/p&gt;
&lt;p&gt;nginx 的日志文件没有 rotate 功能。如果你不处理，日志文件将变得越来越大，还好我们可以写一个 nginx 日志切割脚本来自动切割日志文件。&lt;/p&gt;
&lt;p&gt;第一步就是重命名日志文件，不用担心重命名后 nginx 找不到日志文件而丢失日志。在你未重新打开原名字的日志文件前，nginx 还是会向你重命名的文件写日志，linux 是靠文件描述符而不是文件名定位文件。&lt;/p&gt;
&lt;p&gt;第二步向 nginx 主进程发送 USR1 信号。&lt;/p&gt;
&lt;p&gt;nginx 主进程接到信号后会从配置文件中读取日志文件名称，重新打开日志文件(以配置文件中的日志名称命名)，并以工作进程的用户作为日志文件的所有者。&lt;/p&gt;
&lt;p&gt;重新打开日志文件后，nginx 主进程会关闭重名的日志文件并通知工作进程使用新打开的日志文件。&lt;/p&gt;
&lt;p&gt;工作进程立刻打开新的日志文件并关闭重名名的日志文件。&lt;/p&gt;
&lt;p&gt;然后你就可以处理旧的日志文件了。&lt;/p&gt;
&lt;p&gt;nginx 日志按日期自动切割脚本如下&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;#nginx日志切割脚本
#author: http://www.nginx.cn

#!/bin/bash
#设置日志文件存放目录
logs_path=&quot;/usr/local/nginx/logs/&quot;
#设置pid文件
pid_path=&quot;/usr/local/nginx/nginx.pid&quot;

#重命名日志文件
mv ${logs_path}access.log ${logs_path}access_$(date -d &quot;yesterday&quot; +&quot;%Y%m%d&quot;).log

#向nginx主进程发信号重新打开日志
kill -USR1 `cat ${pid_path}`
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;保存以上脚本 nginx_log.sh,或者点此下载&lt;/p&gt;
&lt;p&gt;添加执行权限：&lt;/p&gt;
&lt;p&gt;chmod 744 /root/nginx_log.sh&lt;/p&gt;
&lt;p&gt;让 shell 每天凌晨执行&lt;/p&gt;
&lt;p&gt;crontab -e&lt;/p&gt;
&lt;p&gt;添加内容&lt;/p&gt;
&lt;p&gt;0 0 * * * sh /usr/local/nginx/nginx_log.sh&lt;/p&gt;
&lt;p&gt;保存退出：wq&lt;/p&gt;
&lt;p&gt;这样就每天的 0 点 0 分把 nginx 日志重命名为日期格式，并重新生成今天的新日志文件。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Mac OS X Terminal Shortcut Key]]></title><description><![CDATA[Mac OS X 终端常用快捷键 快捷键 功能 Ctrl + a 移动到开头 Ctrl + e 移动到结尾 Ctrl + b 向左移动一个字符（助记 back） Ctrl + f 向右移动一个字符（助记 forward） Option + Left 向左移动一个单词 Option…]]></description><link>https://blog.xwlon.com/2012/2012-05-07-mac-os-x-terminal-shortcut-key/</link><guid isPermaLink="false">https://blog.xwlon.com/2012/2012-05-07-mac-os-x-terminal-shortcut-key/</guid><pubDate>Mon, 07 May 2012 07:30:00 GMT</pubDate><content:encoded>&lt;h4&gt;Mac OS X 终端常用快捷键&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;left&quot;&gt;快捷键&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;功能&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Ctrl + a&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;移动到开头&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Ctrl + e&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;移动到结尾&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Ctrl + b&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;向左移动一个字符（助记 back）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Ctrl + f&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;向右移动一个字符（助记 forward）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Option + Left&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;向左移动一个单词&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Option + Right&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;向右移动一个单词&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Ctrl + h&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;向左删除一个字符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Ctrl + w&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;向左删除一个单词&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Ctrl + k&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;向右删除到行尾&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Ctrl + t&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;交换行尾两个字符顺序&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Esc + t&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;交换行尾两个单词顺序&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Ctrl + l&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;清屏&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Ctrl + d&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;相当于退出、logout、exit 等命令&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;Shift + Cmd + 鼠标双击&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;快速选中路径&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content:encoded></item><item><title><![CDATA[VIM Common Shortcut Key]]></title><description><![CDATA[###ERB
Press Ctrl+S and = afterwards to insert <%= %> block Press Ctrl+S and - afterwards to insert <% -%> block Press Ctrl+s and…]]></description><link>https://blog.xwlon.com/2012/2012-04-09-vim-common-shortcut-key/</link><guid isPermaLink="false">https://blog.xwlon.com/2012/2012-04-09-vim-common-shortcut-key/</guid><pubDate>Mon, 09 Apr 2012 15:13:00 GMT</pubDate><content:encoded>&lt;p&gt;###ERB
Press Ctrl+S and = afterwards to insert &amp;#x3C;%= %&gt; block&lt;br&gt;
Press Ctrl+S and - afterwards to insert &amp;#x3C;% -%&gt; block&lt;br&gt;
Press Ctrl+s and # afterwards to insert &amp;#x3C;%# %&gt; block&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Validations of rails 3]]></title><description><![CDATA[To work with server validations we write them in our model by using Active Record library. In rails 3 there is syntax differences to write…]]></description><link>https://blog.xwlon.com/2012/2012-03-25-validations-of-rails-3/</link><guid isPermaLink="false">https://blog.xwlon.com/2012/2012-03-25-validations-of-rails-3/</guid><pubDate>Sun, 25 Mar 2012 14:40:00 GMT</pubDate><content:encoded>&lt;p&gt;To work with server validations we write them in our model by using Active Record library. In rails 3 there is syntax differences to write the validations.&lt;/p&gt;
&lt;p&gt;In rails 2.x.x versions:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ruby&quot;&gt;&lt;pre class=&quot;language-ruby&quot;&gt;&lt;code class=&quot;language-ruby&quot;&gt;validates_presence_of &lt;span class=&quot;token symbol&quot;&gt;:first_name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token symbol&quot;&gt;:email&lt;/span&gt;
validates_uniqueness_of &lt;span class=&quot;token symbol&quot;&gt;:first_name&lt;/span&gt;
validates_format_of &lt;span class=&quot;token symbol&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token symbol&quot;&gt;:with&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token regex-literal&quot;&gt;&lt;span class=&quot;token regex&quot;&gt;/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here, we need to write each and every validation as new command for the same field. But in rails 3 we can mention all the validations in a single command. In the following lines you can observe the difference.&lt;/p&gt;
&lt;p&gt;In rails 3.x.x version:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ruby&quot;&gt;&lt;pre class=&quot;language-ruby&quot;&gt;&lt;code class=&quot;language-ruby&quot;&gt;validates &lt;span class=&quot;token symbol&quot;&gt;:username&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token symbol&quot;&gt;:presence&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token symbol&quot;&gt;:uniqueness&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token symbol&quot;&gt;:if&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token symbol&quot;&gt;:username?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

validates &lt;span class=&quot;token symbol&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token symbol&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token symbol&quot;&gt;:presence&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;

validates &lt;span class=&quot;token symbol&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token symbol&quot;&gt;:presence&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token symbol&quot;&gt;:uniqueness&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token symbol&quot;&gt;:scope&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token symbol&quot;&gt;:user_id&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token symbol&quot;&gt;:format&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token symbol&quot;&gt;:with&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token regex-literal&quot;&gt;&lt;span class=&quot;token regex&quot;&gt;/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token symbol&quot;&gt;:message&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string-literal&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;is invalid format&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token symbol&quot;&gt;:if&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token symbol&quot;&gt;:email?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By providing this, it is very easy to use and write the code with flexible.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ASP.NET MVC 中获得当前的URL、Controller、Action]]></title><description><![CDATA[##URL 的获取，ASP.NET 通用：
【1】获取 完整 url （协议名+域名+虚拟目录名+文件名+参数）
string url=Request.Url.ToString(); 【2】获取 虚拟目录名+页面名+参数：
string url=Request.RawUrl…]]></description><link>https://blog.xwlon.com/2012/2012-03-22-asp-dot-net-mvc-get-current-url-controller-action/</link><guid isPermaLink="false">https://blog.xwlon.com/2012/2012-03-22-asp-dot-net-mvc-get-current-url-controller-action/</guid><pubDate>Thu, 22 Mar 2012 01:08:00 GMT</pubDate><content:encoded>&lt;p&gt;##URL 的获取，ASP.NET 通用：
【1】获取 完整 url （协议名+域名+虚拟目录名+文件名+参数）
string url=Request.Url.ToString();&lt;/p&gt;
&lt;p&gt;【2】获取 虚拟目录名+页面名+参数：
string url=Request.RawUrl;
(或 string url=Request.Url.PathAndQuery;)&lt;/p&gt;
&lt;p&gt;【3】获取 虚拟目录名+页面名：
string url=HttpContext.Current.Request.Url.AbsolutePath;
(或 string url= HttpContext.Current.Request.Path;)&lt;/p&gt;
&lt;p&gt;【4】获取 域名：
string url=HttpContext.Current.Request.Url.Host;&lt;/p&gt;
&lt;p&gt;【5】获取 参数：
string url= HttpContext.Current.Request.Url.Query;&lt;/p&gt;
&lt;p&gt;【6】获取 端口：
Request.Url.Port&lt;/p&gt;
&lt;p&gt;##当前 controller、action 的获取
RouteData.Route.GetRouteData(this.HttpContext).Values[“controller”]
RouteData.Route.GetRouteData(this.HttpContext).Values[“action”]
或
RouteData.Values[“controller”]
RouteData.Values[“action”]&lt;/p&gt;
&lt;p&gt;如果在视图中可以用
ViewContext.RouteData.Route.GetRouteData(this.Context).Values[“controller”]
ViewContext.RouteData.Route.GetRouteData(this.Context).Values[“action”]
或
ViewContext.RouteData.Values[“controller”]
ViewContext.RouteData.Values[“action”]&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Deploy rails on windows]]></title><description><![CDATA[###转自
kloboHYZ 由于 mongrel 已经年久失修、不支持最新的 1.9.2 版本了、所以现在使用 thin 作为 rails 服务器、再加上 nginx 作反向代理、
首先安装 thin 吧、在 windows 平台下、需要先安装 eventmachine…]]></description><link>https://blog.xwlon.com/2012/2012-01-06-deploy-rails-on-windows/</link><guid isPermaLink="false">https://blog.xwlon.com/2012/2012-01-06-deploy-rails-on-windows/</guid><pubDate>Fri, 06 Jan 2012 06:33:00 GMT</pubDate><content:encoded>&lt;p&gt;###转自
&lt;a href=&quot;http://www.cnblogs.com/klobohyz/archive/2011/12/27/2303450.html&quot;&gt;kloboHYZ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;由于 mongrel 已经年久失修、不支持最新的 1.9.2 版本了、所以现在使用 thin 作为 rails 服务器、再加上 nginx 作反向代理、
首先安装 thin 吧、在 windows 平台下、需要先安装 eventmachine、否则不能安装 thin 服务器&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gem install eventmachine --pre
gem install thin&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;安装完成后只需要在 rails 的项目目录上输入 thin start 就可以启动 thin 服务器了、&lt;/p&gt;
&lt;p&gt;P.S.:有时候启动 thin 的时候会遇到这种错误、You have already activated rack 1.3.0, but your Gemfile requires rack 1.2.3.
这是因为迩安装了多个 rack 版本、环境造成混乱、请卸载掉不需要的版本或者修改了 Gemfile 再执行一次 bundle install&lt;/p&gt;
&lt;p&gt;接着莪们配置一下 nginx 吧、首先去 nginx 的官网找来 nginx 的 windows 版本、传送门：&lt;a href=&quot;http://wiki.nginx.org/Install%E3%80%81%E4%B8%8B%E8%BD%BD%E5%AE%8C%E6%88%90%E5%90%8E%E8%A7%A3%E5%8E%8B%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E4%BA%86%E3%80%81%E8%BF%9B%E5%85%A5nginx%E7%9A%84conf%E7%9B%AE%E5%BD%95%E3%80%81%E6%89%93%E5%BC%80nginx.conf%E6%96%87%E4%BB%B6%E8%BF%9B%E8%A1%8C%E4%BB%A5%E4%B8%8B%E9%85%8D%E7%BD%AE%E3%80%81&quot;&gt;http://wiki.nginx.org/Install、下载完成后解压就可以使用了、进入nginx的conf目录、打开nginx.conf文件进行以下配置、&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;{% highlight Nginx config files %}
worker_processes 1;
error_log C:/StandAlone/nginx/logs/error.log;
events {
worker_connections 1024;
}
http {
include mime.types;
default_type application/octet-stream;
log_format main ‘$remote_addr - $remote_user [$time_local] “$request” ’
‘$status $body_bytes_sent “$http_referer” ’
’“$http_user_agent” “$http_x_forwarded_for”‘;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; sendfile        on;
 #keepalive_timeout  0;
 keepalive_timeout  65;
 #gzip  on;
 include C:/StandAlone/nginx/sites_enabled/*.txt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}
{% endhighlight %}&lt;/p&gt;
&lt;p&gt;注意 error_log、include 一定要切换成迩自己的实际目录、其中 include 狠重要、这个意思是从这个目录时加载其它外部配置、按着配置文件、莪们在 nginx 目录下新建 sites_enabled 文件夹吧、接下来在里面建立 mystandaloneapp.com.txt 文件、输入以下内容&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;upstream mystandaloneapp {
     server 127.0.0.1:3000;
 }

 server {
     listen       80;
     server_name  localhost;
     #charset koi8-r;

     access_log C:/StandAlone/www/mystandaloneapp.com/log/access.log;
     error_log  C:/StandAlone/www/mystandaloneapp.com/log/error.log;
     root       C:/StandAlone/www/mystandaloneapp.com;
     index      index.html;

     location / {
         proxy_set_header  X-Real-IP  $remote_addr;
         proxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;
         proxy_set_header  Host $http_host;
         proxy_redirect    off;
         try_files C:/StandAlone/www/maintenance.html $uri $uri/index.html $uri.html @ruby;
     }

     location @ruby {
         proxy_pass http://mystandaloneapp;
     }
 }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这里的配置就是把 thin 的 3000 端口转化成正常的 80 端口、、注意目录都要填写迩的实际目录、然后运行 nginx 命令便可以成功运行了&lt;/p&gt;
&lt;p&gt;Nginx 的命令&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;nginx -s [ stop | quit | reopen | reload ]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item></channel></rss>
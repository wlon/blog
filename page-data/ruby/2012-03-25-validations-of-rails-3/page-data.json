{"componentChunkName":"component---src-templates-blog-post-js","path":"/ruby/2012-03-25-validations-of-rails-3/","result":{"data":{"site":{"siteMetadata":{"title":"Wlon X Blog"}},"markdownRemark":{"id":"2371b204-052a-58b1-b5c4-b11a0886df9e","excerpt":"To work with server validations we write them in our model by using Active Record library. In rails 3 there is syntax differences to write the validations. In…","html":"<p>To work with server validations we write them in our model by using Active Record library. In rails 3 there is syntax differences to write the validations.</p>\n<p>In rails 2.x.x versions:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">validates_presence_of <span class=\"token symbol\">:first_name</span><span class=\"token punctuation\">,</span><span class=\"token symbol\">:email</span>\nvalidates_uniqueness_of <span class=\"token symbol\">:first_name</span>\nvalidates_format_of <span class=\"token symbol\">:email</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:with</span> <span class=\"token operator\">=></span> <span class=\"token regex-literal\"><span class=\"token regex\">/^([^@\\s]+)@((?:[-a-z0-9]+\\.)+[a-z]{2,})$/i</span></span></code></pre></div>\n<p>Here, we need to write each and every validation as new command for the same field. But in rails 3 we can mention all the validations in a single command. In the following lines you can observe the difference.</p>\n<p>In rails 3.x.x version:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">validates <span class=\"token symbol\">:username</span><span class=\"token punctuation\">,</span>\n<span class=\"token symbol\">:presence</span> <span class=\"token operator\">=></span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token symbol\">:uniqueness</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token symbol\">:if</span> <span class=\"token operator\">=></span> <span class=\"token symbol\">:username?</span><span class=\"token punctuation\">}</span>\n\nvalidates <span class=\"token symbol\">:password</span><span class=\"token punctuation\">,</span><span class=\"token symbol\">:password_confirmation</span><span class=\"token punctuation\">,</span>\n<span class=\"token symbol\">:presence</span> <span class=\"token operator\">=></span> <span class=\"token boolean\">true</span>\n\nvalidates <span class=\"token symbol\">:email</span><span class=\"token punctuation\">,</span>\n<span class=\"token symbol\">:presence</span> <span class=\"token operator\">=></span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token symbol\">:uniqueness</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token symbol\">:scope</span> <span class=\"token operator\">=></span> <span class=\"token symbol\">:user_id</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token symbol\">:format</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token symbol\">:with</span> <span class=\"token operator\">=></span> <span class=\"token regex-literal\"><span class=\"token regex\">/^([^@\\s]+)@((?:[-a-z0-9]+\\.)+[a-z]{2,})$/i</span></span> <span class=\"token punctuation\">,</span> <span class=\"token symbol\">:message</span> <span class=\"token operator\">=></span> <span class=\"token string-literal\"><span class=\"token string\">\"is invalid format\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:if</span> <span class=\"token operator\">=></span> <span class=\"token symbol\">:email?</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>By providing this, it is very easy to use and write the code with flexible.</p>","frontmatter":{"title":"Validations of rails 3","date":"March 25, 2012","description":""}},"previous":{"fields":{"slug":"/ruby/2012-03-22-asp-dot-net-mvc-get-current-url-controller-action/"},"frontmatter":{"title":"ASP.NET MVC 中获得当前的URL、Controller、Action"}},"next":{"fields":{"slug":"/ruby/2012-04-09-vim-common-shortcut-key/"},"frontmatter":{"title":"VIM Common Shortcut Key"}}},"pageContext":{"id":"2371b204-052a-58b1-b5c4-b11a0886df9e","previousPostId":"7aaf6727-3176-5829-9968-72d08b9bce49","nextPostId":"31f911a6-2ac6-59e6-a31d-0ff5339608c6"}},"staticQueryHashes":["2841359383","3257411868"]}